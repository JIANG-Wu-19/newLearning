# 习题讲解

## 内存管理

某计算机主存按**字节**编址，逻辑地址和物理地址都是32位，页表项大小为4B，请回答下列问题

（1）若使用一级页表的分页存储管理方式，逻辑地址结构为

| 页号（20位） | 页内偏移量（12位） |
| ------------ | ------------------ |

00008 000H

页的大小是多少字节？页表最大占用多少字节？

$2^{12}=4KB$

2^32/4K=2^20

2^20*4=4MB

(2)若使用二级页表的分页存储管理方式，逻辑地址结构为：

| 页目录号10位 | 页表索引10位 | 页内偏移量12位 |
| ------------ | ------------ | -------------- |

LA逻辑地址，获得对应页目录号和页表索引号

LA>>22 & 0x3ff

LA>>12 & 0x3ff

(3)采用(1)中的分页存储管理方式，一个代码段起始逻辑地址为0000 8000H，其长度为8KB，被装载到从物理地址0090 0000H开始的连续主存空间中。页表从主存0020 0000H开始的物理地址处连续存放，如下图所示(地址大小自下向上递增)。请计算出该代码段对应的两个页表项的物理地址、这两个页表项中的页框号以及代码页面2的起始物理地址。

00008 000H 8

0020 0000H+8*4=0020 0020H

## Cache

假设某个计算机的主存地址空间大小为 256MB，按字节编址，其数据Cache有8个Cache 行，行长为 64B。

主存28位

cache3位

行长6位

28-6-3=19

1)若不考虑用于Cache的一致维护性位(脏位)和替换算法控制位，并且采用直接映射方式，则该数据Cache 的总容量为多少?

有效位1

$（1+19+64*8）*8$

2)若该 Cache 采用直接映射方式，则主存地址为 3200(十进制)的主存块对应的Cache 行号是多少?采用二路组相联映射时又是多少?

3)以直接映射方式为例，简述访存过程(设访存的地址为0123456H)。

